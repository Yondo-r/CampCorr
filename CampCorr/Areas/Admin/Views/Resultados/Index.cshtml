@model CampCorr.Models.Etapa
@{
    ViewData["Title"] = "Index";
    List<Etapa> listaEtapas = ViewBag.listaEtapas;
    List<Temporada> listaTemporadas = ViewBag.listaTemporadas;
}

@*Verificar se temporada e etapa estão concluídos e exibir em cor diferente*@
<h1>Selecione a temporada</h1>

<ul>
    @foreach (var temporada in listaTemporadas)
    {
        var collapse = "#coll" + temporada.AnoTemporada.ToString();
        var collpaseId = "coll" + temporada.AnoTemporada.ToString();
        <li class="lista-item">
            <button class="btn btn-secondary" data-bs-toggle="collapse" href="@collapse">@temporada.AnoTemporada</button>
            <div class="collapse" id="@collpaseId">
                <div class="card card-body">
                    @foreach (var etapa in listaEtapas)
                    {
                        if (etapa.TemporadaId == temporada.TemporadaId)
                        {
                            
                                <div class="lista-item">
                                    <a asp-action="ResultadoCorrida" asp-route-etapaId="@etapa.EtapaId" class="btn" style="color:azure" >@etapa.NumeroEvento - @etapa.Kartodromo.Nome</a>
                                </div>
                            
                        }
                    }
                </div>
            </div>
        </li>
    }
</ul>

